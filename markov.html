<div class="markov-content">
    <h2>Markovian Extension: The Lifted State Construction</h2>
    
    <h3>The Challenge</h3>
    
    <p>The original paper assumes states Œ∏<sub>t</sub> are drawn <strong>i.i.d.</strong> across periods. We extend this to the case where Œ∏<sub>t</sub> follows a <strong>stationary ergodic Markov chain</strong>:</p>
    
    <div class="equation-block">
        $$\theta_t \sim F(\cdot \mid \theta_{t-1})$$
        <p style="margin-top: 0.5rem;">with unique stationary distribution œÄ and transition kernel F.</p>
    </div>

    <h3>The Key Insight: Lifted State</h3>
    
    <p>The central construction is to redefine the state as the <strong>pair</strong>:</p>
    
    <div class="extension-box">
        <div class="box-title">Definition: Lifted State</div>
        <div class="equation-block">
            $$\tilde{\theta}_t = (\theta_t, \theta_{t-1}) \in \tilde{\Theta} = \Theta \times \Theta$$
        </div>
        <p>Under ergodicity, the lifted chain has a <strong>fixed stationary distribution</strong>:</p>
        <div class="equation-block">
            $$\tilde{\rho}(\theta, \theta') = \pi(\theta') \cdot F(\theta \mid \theta')$$
        </div>
    </div>

    <p><strong>Key property:</strong> The lifted state Œ∏ÃÉ<sub>t</sub> has a fixed, known stationary distribution, playing precisely the role of the i.i.d. signal distribution in the original paper!</p>

    <h3>Interactive Markov Chain Visualization</h3>
    
    <p>Consider a two-state Markov chain Œ∏<sub>t</sub> ‚àà {G, B} with transition probabilities:</p>

    <div class="controls">
        <h4>Markov Chain Parameters</h4>
        
        <div class="control-group">
            <label>Œ± (G‚ÜíB transition): <span class="slider-value" id="alpha-value">0.30</span></label>
            <input type="range" id="alpha-slider" min="0.05" max="0.95" step="0.05" value="0.3">
        </div>

        <div class="control-group">
            <label>Œ≤ (B‚ÜíG transition): <span class="slider-value" id="beta-value">0.50</span></label>
            <input type="range" id="beta-slider" min="0.05" max="0.95" step="0.05" value="0.5">
        </div>
    </div>

    <div class="comparison-grid">
        <div class="comparison-card">
            <h4>Transition Matrix</h4>
            <table>
                <thead>
                    <tr>
                        <th>From\To</th>
                        <th>G</th>
                        <th>B</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>G</strong></td>
                        <td id="trans-gg">0.70</td>
                        <td id="trans-gb">0.30</td>
                    </tr>
                    <tr>
                        <td><strong>B</strong></td>
                        <td id="trans-bg">0.50</td>
                        <td id="trans-bb">0.50</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="comparison-card">
            <h4>Stationary Distribution</h4>
            <div class="equation-block">
                $$\pi(G) = \frac{\beta}{\alpha + \beta}$$
            </div>
            <table>
                <tbody>
                    <tr>
                        <td><strong>œÄ(G):</strong></td>
                        <td id="stat-g">0.625</td>
                    </tr>
                    <tr>
                        <td><strong>œÄ(B):</strong></td>
                        <td id="stat-b">0.375</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="plot-container">
        <div id="markov-trajectory-plot"></div>
    </div>

    <h3>Lifted State Distribution</h3>
    
    <p>The lifted state Œ∏ÃÉ<sub>t</sub> = (Œ∏<sub>t</sub>, Œ∏<sub>t-1</sub>) lives in a 4-element space:</p>

    <div class="result-box">
        <div class="box-title">Lifted Stationary Distribution</div>
        <table id="lifted-dist-table">
            <thead>
                <tr>
                    <th>Œ∏ÃÉ = (Œ∏<sub>t</sub>, Œ∏<sub>t-1</sub>)</th>
                    <th>œÅÃÉ(Œ∏ÃÉ)</th>
                    <th>Formula</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>(G, G)</strong></td>
                    <td id="lifted-gg">0.4375</td>
                    <td>œÄ(G) √ó P(G‚ÜíG)</td>
                </tr>
                <tr>
                    <td><strong>(G, B)</strong></td>
                    <td id="lifted-gb">0.1875</td>
                    <td>œÄ(B) √ó P(B‚ÜíG)</td>
                </tr>
                <tr>
                    <td><strong>(B, G)</strong></td>
                    <td id="lifted-bg">0.1875</td>
                    <td>œÄ(G) √ó P(G‚ÜíB)</td>
                </tr>
                <tr>
                    <td><strong>(B, B)</strong></td>
                    <td id="lifted-bb">0.1875</td>
                    <td>œÄ(B) √ó P(B‚ÜíB)</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="plot-container">
        <div id="lifted-distribution-plot"></div>
    </div>

    <h3>The Extended Theorem</h3>
    
    <div class="theorem-box">
        <div class="box-title">Extended Theorem 1 (Markovian States)</div>
        <p>Let Œ∏<sub>t</sub> follow a stationary ergodic Markov chain with transition kernel F and stationary distribution œÄ. Let Œ∏ÃÉ<sub>t</sub> = (Œ∏<sub>t</sub>, Œ∏<sub>t-1</sub>) with stationary distribution œÅÃÉ. Suppose:</p>
        <ul>
            <li>s‚ÇÅ*: ŒòÃÉ ‚Üí Œî(A‚ÇÅ) is a Markov strategy</li>
            <li>s‚ÇÅ* is <strong>confound-defeating on the expanded state space</strong></li>
            <li>s‚ÇÅ* is <strong>not behaviorally confounded</strong></li>
        </ul>
        <p>Then:</p>
        <div class="equation-block">
            $$\liminf_{\delta \to 1} \underline{U}_1(\delta) \geq V(s_1^*)$$
        </div>
    </div>

    <h3>The Surprising Result: No Mixing-Time Correction!</h3>
    
    <div class="extension-box">
        <div class="box-title">üéØ Key Finding: Lemma 2 Extends Unchanged</div>
        <p>The KL-divergence counting bound requires <strong>NO mixing-time correction</strong>:</p>
        <div class="equation-block">
            $$\bar{T}(\eta, \mu_0) = \frac{-2\log\mu_0(\omega_{s_1^*})}{\eta^2}$$
        </div>
        <p><strong>This is identical to the i.i.d. case!</strong></p>
        <p>The bound uses only:</p>
        <ul>
            <li>KL divergence chain rule (valid for any stochastic process)</li>
            <li>Bayesian updating identity (general)</li>
            <li>Pinsker's inequality (per-period)</li>
        </ul>
    </div>

    <h3>Proof Structure</h3>
    
    <table>
        <thead>
            <tr>
                <th>Step</th>
                <th>i.i.d. used?</th>
                <th>Modification for Markov</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>OT/Confound-defeating</td>
                <td>‚ùå No</td>
                <td>Replace Y‚ÇÄ with ŒòÃÉ</td>
            </tr>
            <tr>
                <td>Lemma 1 (equilibrium)</td>
                <td>‚ùå No</td>
                <td>Replace strategy space</td>
            </tr>
            <tr>
                <td><strong>Lemma 2 (KL bound)</strong></td>
                <td><strong>‚ùå No</strong></td>
                <td><strong>None needed!</strong></td>
            </tr>
            <tr>
                <td>Lemma 3 (martingale)</td>
                <td>‚ö†Ô∏è Partially</td>
                <td>Add ergodicity + filter stability</td>
            </tr>
            <tr>
                <td>Lemma 4 (combining)</td>
                <td>‚ùå No</td>
                <td>None needed</td>
            </tr>
            <tr>
                <td>Payoff bound</td>
                <td>‚ùå No</td>
                <td>None needed</td>
            </tr>
        </tbody>
    </table>

    <h3>Additional Condition: Ergodicity</h3>
    
    <p>The only substantive new requirement is <strong>ergodicity</strong> of the Markov chain (irreducibility and aperiodicity). This ensures:</p>
    
    <ul>
        <li>A unique stationary distribution œÄ exists</li>
        <li>The lifted chain has stationary distribution œÅÃÉ</li>
        <li>Filter stability: posteriors "forget" initial conditions</li>
    </ul>

    <h3>Comparison: Mixing Time vs. Limiting Payoff</h3>
    
    <div class="result-box">
        <div class="box-title">Role of Mixing Time</div>
        <p>The mixing time œÑ<sub>mix</sub> affects only the <strong>rate of convergence</strong> (how large Œ¥ must be), not the <strong>limiting payoff</strong> V(s‚ÇÅ*).</p>
        <p>As Œ¥ ‚Üí 1, the transient phase vanishes regardless of mixing time.</p>
    </div>

    <div class="controls">
        <h4>Mixing Time Visualization</h4>
        <div class="control-group">
            <label>View mixing for Œ± = <span id="alpha-mix-display">0.30</span>, Œ≤ = <span id="beta-mix-display">0.50</span></label>
        </div>
    </div>

    <div class="plot-container">
        <div id="mixing-time-plot"></div>
    </div>
</div>
