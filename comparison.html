<div class="comparison-content">
    <h2>Comparison: i.i.d. vs. Markovian</h2>
    
    <h3>Framework Comparison</h3>
    
    <div class="comparison-grid">
        <div class="comparison-card">
            <h4>Original (i.i.d.)</h4>
            <div class="equation-block">
                $$\theta_t \sim \pi(\cdot) \quad \text{i.i.d.}$$
            </div>
            <p><strong>State space:</strong> Œò</p>
            <p><strong>Strategy:</strong> s‚ÇÅ: Œò ‚Üí Œî(A‚ÇÅ)</p>
            <p><strong>Stationary dist.:</strong> œÄ (exogenous)</p>
            <p><strong>Assumptions:</strong></p>
            <ul>
                <li>Confound-defeating</li>
                <li>Not behaviorally confounded</li>
            </ul>
        </div>
        <div class="comparison-card">
            <h4>Markovian Extension</h4>
            <div class="equation-block">
                $$\theta_t \sim F(\cdot \mid \theta_{t-1})$$
            </div>
            <p><strong>State space:</strong> ŒòÃÉ = Œò √ó Œò</p>
            <p><strong>Strategy:</strong> s‚ÇÅ: ŒòÃÉ ‚Üí Œî(A‚ÇÅ)</p>
            <p><strong>Stationary dist.:</strong> œÅÃÉ (derived from œÄ and F)</p>
            <p><strong>Assumptions:</strong></p>
            <ul>
                <li>Confound-defeating on ŒòÃÉ</li>
                <li>Not behaviorally confounded</li>
                <li><strong>+ Ergodicity</strong></li>
            </ul>
        </div>
    </div>

    <h3>Proof Step Comparison</h3>
    
    <table>
        <thead>
            <tr>
                <th>Component</th>
                <th>i.i.d. Version</th>
                <th>Markovian Version</th>
                <th>Change?</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>OT Problem</strong></td>
                <td>OT(œÅ, œÜ; Œ±‚ÇÇ) on Y‚ÇÄ √ó A‚ÇÅ</td>
                <td>OT(œÅÃÉ, œÜ; Œ±‚ÇÇ) on ŒòÃÉ √ó A‚ÇÅ</td>
                <td>Notation only</td>
            </tr>
            <tr>
                <td><strong>Cyclical Monotonicity</strong></td>
                <td>On Œò √ó A‚ÇÅ</td>
                <td>On ŒòÃÉ √ó A‚ÇÅ</td>
                <td>Expanded space</td>
            </tr>
            <tr>
                <td><strong>KL Bound</strong></td>
                <td>$\bar{T} = -2\log\mu_0/\eta^2$</td>
                <td>$\bar{T} = -2\log\mu_0/\eta^2$</td>
                <td><strong>No change!</strong></td>
            </tr>
            <tr>
                <td><strong>Posterior Convergence</strong></td>
                <td>Martingale convergence</td>
                <td>Martingale + filter stability</td>
                <td>+Ergodicity</td>
            </tr>
            <tr>
                <td><strong>Commitment Payoff</strong></td>
                <td>$V(s_1^*)$</td>
                <td>$V(s_1^*)$</td>
                <td>No change</td>
            </tr>
        </tbody>
    </table>

    <h3>The Surprise: Where i.i.d. Was NOT Used</h3>
    
    <div class="extension-box">
        <div class="box-title">üîç Initial Expectation vs. Reality</div>
        <p><strong>Initial conjecture:</strong> The KL bound would need a mixing-time correction factor œÑ<sub>mix</sub>, giving:</p>
        <div class="equation-block">
            $$\bar{T}(\eta, \mu_0, \tau_{\text{mix}}) \approx \frac{-2\log\mu_0}{\eta^2} \cdot \tau_{\text{mix}}$$
        </div>
        <p><strong>Actual result:</strong> NO correction needed! The bound is identical.</p>
        <p><strong>Why:</strong> The KL chain rule and Bayesian updating work for general stochastic processes.</p>
    </div>

    <h3>Interactive Comparison: Deterrence Game</h3>
    
    <p>Compare the commitment payoff in the i.i.d. case vs. the Markovian case with varying persistence.</p>

    <div class="controls">
        <h4>Comparison Parameters</h4>
        
        <div class="control-group">
            <label>i.i.d. prob. of G: <span class="slider-value" id="comp-pi-value">0.625</span></label>
            <input type="range" id="comp-pi-slider" min="0.1" max="0.9" step="0.025" value="0.625">
        </div>

        <div class="control-group">
            <label>Markov Œ± (G‚ÜíB): <span class="slider-value" id="comp-alpha-value">0.30</span></label>
            <input type="range" id="comp-alpha-slider" min="0.05" max="0.95" step="0.05" value="0.3">
        </div>

        <div class="control-group">
            <label>Markov Œ≤ (B‚ÜíG): <span class="slider-value" id="comp-beta-value">0.50</span></label>
            <input type="range" id="comp-beta-slider" min="0.05" max="0.95" step="0.05" value="0.5">
        </div>
    </div>

    <div class="result-box">
        <div class="box-title">Commitment Payoffs</div>
        <table>
            <thead>
                <tr>
                    <th>Case</th>
                    <th>Stationary œÄ(G)</th>
                    <th>V(s‚ÇÅ*)</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><strong>i.i.d.</strong></td>
                    <td id="comp-iid-pi">0.625</td>
                    <td id="comp-iid-v">0.625</td>
                </tr>
                <tr>
                    <td><strong>Markovian</strong></td>
                    <td id="comp-markov-pi">0.625</td>
                    <td id="comp-markov-v">0.625</td>
                </tr>
                <tr>
                    <td><strong>Difference</strong></td>
                    <td id="comp-diff-pi">0.000</td>
                    <td id="comp-diff-v">0.000</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div class="plot-container">
        <div id="comparison-payoff-plot"></div>
    </div>

    <h3>Limiting Cases</h3>
    
    <p>The Markovian framework interpolates between two extremes:</p>

    <div class="comparison-grid">
        <div class="comparison-card">
            <h4>Fast Mixing (‚Üí i.i.d.)</h4>
            <p><strong>Regime:</strong> Œ±, Œ≤ large (close to 0.5)</p>
            <p><strong>Mixing time:</strong> œÑ<sub>mix</sub> ‚âà O(1)</p>
            <p><strong>Result:</strong> Recovers original theorem</p>
            <div class="equation-block">
                $$F(\cdot \mid \theta) \approx \pi(\cdot)$$
            </div>
        </div>
        <div class="comparison-card">
            <h4>Slow Mixing (‚Üí Pei 2020)</h4>
            <p><strong>Regime:</strong> Œ±, Œ≤ ‚Üí 0</p>
            <p><strong>Mixing time:</strong> œÑ<sub>mix</sub> ‚Üí ‚àû</p>
            <p><strong>Result:</strong> Weakens toward Pei's conditions</p>
            <div class="equation-block">
                $$F(\cdot \mid \theta) \to \delta_\theta$$
            </div>
        </div>
    </div>

    <div class="plot-container">
        <div id="mixing-comparison-plot"></div>
    </div>

    <h3>Economic Insights: Temporal Patterns</h3>
    
    <div class="result-box">
        <div class="box-title">New Identification Channel</div>
        <p>With persistent states, actions exhibit <strong>autocorrelation</strong>. Two strategies with identical per-period frequencies may produce different temporal patterns:</p>
        <ul>
            <li><strong>Conditional strategy:</strong> "Fight when attack detected" ‚Üí actions cluster in runs</li>
            <li><strong>Unconditional strategy:</strong> "Fight 30% randomly" ‚Üí no temporal structure</li>
        </ul>
        <p>Persistence thus <strong>strengthens identification</strong>, making confound-defeating conditions easier to satisfy!</p>
    </div>

    <h3>Summary Table</h3>
    
    <table>
        <thead>
            <tr>
                <th>Aspect</th>
                <th>i.i.d.</th>
                <th>Markovian</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>State evolution</td>
                <td>Independent</td>
                <td>Dependent</td>
            </tr>
            <tr>
                <td>Effective state</td>
                <td>Œ∏<sub>t</sub></td>
                <td>Œ∏ÃÉ<sub>t</sub> = (Œ∏<sub>t</sub>, Œ∏<sub>t-1</sub>)</td>
            </tr>
            <tr>
                <td>Stationary distribution</td>
                <td>œÄ (given)</td>
                <td>œÅÃÉ (derived)</td>
            </tr>
            <tr>
                <td>KL bound</td>
                <td>$-2\log\mu_0/\eta^2$</td>
                <td>$-2\log\mu_0/\eta^2$ (same!)</td>
            </tr>
            <tr>
                <td>Additional assumption</td>
                <td>None</td>
                <td>Ergodicity</td>
            </tr>
            <tr>
                <td>Commitment payoff</td>
                <td>V(s‚ÇÅ*)</td>
                <td>V(s‚ÇÅ*) (same!)</td>
            </tr>
            <tr>
                <td>Convergence rate</td>
                <td>Fast</td>
                <td>Depends on œÑ<sub>mix</sub></td>
            </tr>
        </tbody>
    </table>
</div>
